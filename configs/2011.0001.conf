global_defs {
	vrrp_version 3
}

vrrp_script chk_manual_failover {
	script "/usr/libexec/keepalived/nginx-ha-manual-failover"
	interval 10
	weight 50
}

vrrp_script chk_nginx_service {
	script "/usr/libexec/keepalived/nginx-ha-check"
	interval 3
	weight 50
}

vrrp_instance VI_1 {
	interface Prod
	priority 101
	virtual_router_id 51
	advert_int 1
	accept
	garp_master_refresh 5
	garp_master_refresh_repeat 1
	unicast_src_ip 10.232.20.5
	unicast_peer {
		10.232.20.6
	}
	virtual_ipaddress {
		10.232.20.7
		10.232.20.8
		10.232.20.9
		10.232.20.10
		10.232.20.11
		10.232.20.12
		10.232.20.13
		10.232.20.14
		10.232.20.15
		10.232.20.16
		10.232.20.17
		10.232.20.18
		10.232.20.19
		10.232.20.20
		10.232.20.21
		10.232.20.22
		10.232.20.23
		10.232.20.24
		10.232.20.25
		10.232.20.26
		10.232.20.27
		10.232.20.28
		10.232.20.29
		10.232.20.30
		10.232.20.31
		10.232.20.32
		10.232.20.33
		10.232.20.34
		10.232.20.35
		10.232.20.36
		10.232.20.37
		10.232.20.38
		10.232.20.39
		10.232.20.40
		10.232.20.41
		10.232.20.42
		10.232.20.43
		10.232.20.44
		10.232.20.45
		10.232.20.46
		10.232.20.47
		10.232.20.48
		10.232.20.49
		10.232.20.50
		10.232.20.51
		10.232.20.52
		10.232.20.53
		10.232.20.54
		10.232.20.55
		10.232.20.56
		10.232.20.57
		10.232.20.58
		10.232.20.59
		10.232.20.60
		10.232.20.61
		10.232.20.62
		10.232.20.63
		10.232.20.64
		10.232.20.65
		10.232.20.66
		10.232.20.67
		10.232.20.68
		10.232.20.69
		10.232.20.70
		10.232.20.71
		10.232.20.72
		10.232.20.73
		10.232.20.74
		10.232.20.75
		10.232.20.76
		10.232.20.77
		10.232.20.78
		10.232.20.79
		10.232.20.80
		10.232.20.81
		10.232.20.82
		10.232.20.83
		10.232.20.84
		10.232.20.85
		10.232.20.86
		10.232.20.87
		10.232.20.88
		10.232.20.89
		10.232.20.90
		10.232.20.91
		10.232.20.92
		10.232.20.93
		10.232.20.94
		10.232.20.95
		10.232.20.96
		10.232.20.97
		10.232.20.98
		10.232.20.99
		10.232.20.100
		10.232.20.101
		10.232.20.102
		10.232.20.103
		10.232.20.104
		10.232.20.105
		10.232.20.106
		10.232.20.107
		10.232.20.108
		10.232.20.109
		10.232.20.110
		10.232.20.111
		10.232.20.112
		10.232.20.113
		10.232.20.114
		10.232.20.115
		10.232.20.116
		10.232.20.117
		10.232.20.118
		10.232.20.119
		10.232.20.120
		10.232.20.121
		10.232.20.120
		10.232.20.123
		10.232.20.124
		10.232.20.125
		10.232.20.126
		10.232.20.127
		10.232.20.128
		10.232.20.129
		10.232.20.130
		10.232.20.131
		10.232.20.132
		10.232.20.133
		10.232.20.134
		10.232.20.135
		10.232.20.136
		10.232.20.137
		10.232.20.138
		10.232.20.139
		10.232.20.140
		10.232.20.141
		10.232.20.142
		10.232.20.143
		10.232.20.144
		10.232.20.145
		10.232.20.146
		10.232.20.147
		10.232.20.148
		10.232.20.149
		10.232.20.150
		10.232.20.151
		10.232.20.152
		10.232.20.153
		10.232.20.154
		10.232.20.155
		10.232.20.156
		10.232.20.157
		10.232.20.158
		10.232.20.159
		10.232.20.160
		10.232.20.161
		10.232.20.162
		10.232.20.163
		10.232.20.164
		10.232.20.165
		10.232.20.166
		10.232.20.167
		10.232.20.168
		10.232.20.169
		10.232.20.170
		10.232.20.171
		10.232.20.172
		10.232.20.173
		10.232.20.174
		10.232.20.175
		10.232.20.176
		10.232.20.177
		10.232.20.178
		10.232.20.179
		10.232.20.180
		10.232.20.181
		10.232.20.182
		10.232.20.183
		10.232.20.184
		10.232.20.185
		10.232.20.186
		10.232.20.187
		10.232.20.188
		10.232.20.189
		10.232.20.190
		10.232.20.191
		10.232.20.192
		10.232.20.193
		10.232.20.194
		10.232.20.195
		10.232.20.196
		10.232.20.197
		10.232.20.198
		10.232.20.199
		10.232.20.200
		10.232.20.201
		10.232.20.202
		10.232.20.203
		10.232.20.204
		10.232.20.205
		10.232.20.206
		10.232.20.207
		10.232.20.208
		10.232.20.209
		10.232.20.210
		10.232.20.211
		10.232.20.212
		10.232.20.213
		10.232.20.214
		10.232.20.215
		10.232.20.216
		10.232.20.217
		10.232.20.218
		10.232.20.219
		10.232.20.200
		10.232.20.201
		10.232.20.202
		10.232.20.203
		10.232.20.204
		10.232.20.205
		10.232.20.206
		10.232.20.207
		10.232.20.208
		10.232.20.209
		10.232.20.230
		10.232.20.231
		10.232.20.232
		10.232.20.233
		10.232.20.234
		10.232.20.235
		10.232.20.236
		10.232.20.237
		10.232.20.238
		10.232.20.239
		10.232.20.240
		10.232.20.241
		10.232.20.242
		10.232.20.243
		10.232.20.244
		10.232.20.245
		10.232.20.246
		10.232.20.247
		10.232.20.248
		10.232.20.249
		10.232.20.250
		10.232.20.251
		10.232.20.252
		10.232.20.253
		10.232.20.254
		10.232.20.255

	}
	track_script {
		chk_nginx_service
		chk_manual_failover
	}
	notify "/usr/libexec/keepalived/nginx-ha-notify"

}
vrrp_instance VI_2 {
	interface vlan1119
	priority 101
	virtual_router_id 52
	advert_int 1
	accept
	garp_master_refresh 5
	garp_master_refresh_repeat 1
	unicast_src_ip 10.83.10.1
	unicast_peer {
		10.83.10.2
	}
	virtual_ipaddress {
		#10.83.8.0
		#10.83.8.1
		#10.83.8.2
		#10.83.8.3
		#10.83.8.4
		#10.83.8.5
		#10.83.8.6
		#10.83.8.7
		#10.83.8.8
		#10.83.8.9
		#10.83.8.10
		#10.83.8.11
		#10.83.8.12
		#10.83.8.13
		#10.83.8.14
		#10.83.8.15
		#10.83.8.16
		#10.83.8.17
		#10.83.8.18
		#10.83.8.19
		#10.83.8.20
		#10.83.8.21
		#10.83.8.22
		#10.83.8.23
		#10.83.8.24
		#10.83.8.25
		#10.83.8.26
		#10.83.8.27
		#10.83.8.28
		#10.83.8.29
		#10.83.8.30
		#10.83.8.31
		#10.83.8.32
		#10.83.8.33
		#10.83.8.34
		#10.83.8.35
		#10.83.8.36
		#10.83.8.37
		#10.83.8.38
		#10.83.8.39
		#10.83.8.40
		#10.83.8.41
		#10.83.8.42
		#10.83.8.43
		#10.83.8.44
		#10.83.8.45
		#10.83.8.46
		#10.83.8.47
		#10.83.8.48
		10.83.8.49
		#10.83.8.50
		#10.83.8.51
		#10.83.8.52
		#10.83.8.53
		#10.83.8.54
		#10.83.8.55
		#10.83.8.56
		#10.83.8.57
		#10.83.8.58
		#10.83.8.59
		#10.83.8.60
		#10.83.8.61
		#10.83.8.62
		#10.83.8.63
		#10.83.8.64
		#10.83.8.65
		10.83.8.66
		#10.83.8.67
		#10.83.8.68
		#10.83.8.69
		#10.83.8.70
		#10.83.8.71
		#10.83.8.72
		#10.83.8.73
		10.83.8.74
		#10.83.8.75
		#10.83.8.76
		#10.83.8.77
		#10.83.8.78
		#10.83.8.79
		#10.83.8.80
		#10.83.8.81
		10.83.8.82
		#10.83.8.83
		#10.83.8.84
		#10.83.8.85
		#10.83.8.86
		#10.83.8.87
		#10.83.8.88
		#10.83.8.89
		#10.83.8.90
		#10.83.8.91
		#10.83.8.92
		#10.83.8.93
		#10.83.8.94
		#10.83.8.95
		#10.83.8.96
		#10.83.8.97
		#10.83.8.98
		#10.83.8.99
		#10.83.8.100
		#10.83.8.101
		#10.83.8.102
		#10.83.8.103
		#10.83.8.104
		#10.83.8.105
		#10.83.8.106
		#10.83.8.107
		#10.83.8.108
		#10.83.8.109
		#10.83.8.110
		#10.83.8.111
		#10.83.8.112
		#10.83.8.113
		#10.83.8.114
		#10.83.8.115
		#10.83.8.116
		#10.83.8.117
		#10.83.8.118
		#10.83.8.119
		#10.83.8.120
		#10.83.8.121
		#10.83.8.122
		#10.83.8.123
		#10.83.8.124
		10.83.8.125
		#10.83.8.126
		10.83.8.127
		#10.83.8.128
		#10.83.8.129
		#10.83.8.130
		10.83.8.131
		#10.83.8.132
		10.83.8.133
		#10.83.8.134
		10.83.8.135
		10.83.8.136
		#10.83.8.137
		#10.83.8.138
		#10.83.8.139
		#10.83.8.140
		#10.83.8.141
		#10.83.8.142
		#10.83.8.143
		#10.83.8.144
		#10.83.8.145
		#10.83.8.146
		#10.83.8.147
		#10.83.8.148
		#10.83.8.149
		#10.83.8.150
		#10.83.8.151
		#10.83.8.152
		#10.83.8.153
		#10.83.8.154
		#10.83.8.155
		#10.83.8.156
		#10.83.8.157
		#10.83.8.158
		#10.83.8.159
		#10.83.8.160
		#10.83.8.161
		#10.83.8.162
		#10.83.8.163
		#10.83.8.164
		#10.83.8.165
		#10.83.8.166
		10.83.8.167
		#10.83.8.168
		10.83.8.169
		#10.83.8.170
		#10.83.8.171
		#10.83.8.172
		#10.83.8.173
		#10.83.8.174
		#10.83.8.175
		#10.83.8.176
		#10.83.8.177
		#10.83.8.178
		#10.83.8.179
		#10.83.8.180
		#10.83.8.181
		#10.83.8.182
		#10.83.8.183
		#10.83.8.184
		#10.83.8.185
		#10.83.8.186
		#10.83.8.187
		#10.83.8.188
		#10.83.8.189
		#10.83.8.190
		#10.83.8.191
		10.83.8.192
		#10.83.8.193
		#10.83.8.194
		#10.83.8.195
		#10.83.8.196
		#10.83.8.197
		#10.83.8.198
		#10.83.8.199
		#10.83.8.200
		#10.83.8.201
		#10.83.8.202
		#10.83.8.203
		10.83.8.204
		10.83.8.205
		#10.83.8.206
		#10.83.8.207
		#10.83.8.208
		#10.83.8.209
		#10.83.8.210
		#10.83.8.211
		#10.83.8.212
		#10.83.8.213
		#10.83.8.214
		#10.83.8.215
		#10.83.8.216
		#10.83.8.217
		#10.83.8.218
		#10.83.8.219
		#10.83.8.220
		#10.83.8.221
		#10.83.8.222
		#10.83.8.223
		#10.83.8.224
		#10.83.8.225
		#10.83.8.226
		#10.83.8.227
		10.83.8.228
		#10.83.8.229
		#10.83.8.230
		10.83.8.231
		#10.83.8.232
		10.83.8.233
		#10.83.8.234
		#10.83.8.235
		#10.83.8.236
		10.83.8.237
		#10.83.8.238
		#10.83.8.239
		#10.83.8.240
		#10.83.8.241
		#10.83.8.242
		#10.83.8.243
		#10.83.8.244
		#10.83.8.245
		#10.83.8.246
		10.83.8.247
		#10.83.8.248
		10.83.8.249
		#10.83.8.250
		#10.83.8.251
		#10.83.8.252
		10.83.8.253
		#10.83.8.254
		#10.83.8.255
	}
	track_script {
		chk_nginx_service
		chk_manual_failover
	}
	notify "/usr/libexec/keepalived/nginx-ha-notify"
}
vrrp_instance VI_3 {
	interface vlan100
	priority 101
	virtual_router_id 53
	advert_int 1
	accept
	garp_master_refresh 5
	garp_master_refresh_repeat 1
	unicast_src_ip 10.76.76.80
	unicast_peer {
		10.76.76.81
	}
	virtual_ipaddress {
		#10.76.76.58 - Stage not yet migrated
		10.76.77.10
		10.76.77.17
		10.76.79.107
		10.76.79.114
		10.76.79.116
		10.76.79.118
		#10.76.79.120 - Notifications/Meals rollback
		10.76.79.124
		#10.76.79.138 - Rollback Wrls
		10.76.79.167
		10.76.79.168
		10.76.79.27
		#10.76.79.57 - Sharepoint Rollback
		#10.76.79.58 - Sharepoint Rollback
		#10.76.79.59 - Sharepoint Rollback
		#10.76.79.60 - Sharepoint Rollback
		#10.76.79.61 - Sharepoint Rollback
		#10.76.79.62 - Sharepoint Rollback
		#10.76.79.63 - Sharepoint Rollback
		#10.76.79.64 - Sharepoint Rollback
		#10.76.79.65 - Sharepoint Rollback
		10.76.79.94
		#10.76.79.95 - Sharepoint Rollback
		#10.76.79.97 - Sharepoint Rollback
	}
	track_script {
		chk_nginx_service
		chk_manual_failover
	}
	notify "/usr/libexec/keepalived/nginx-ha-notify"
}
