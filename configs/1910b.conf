@low net_namespace low

$SCRIPT_DIR=${_PWD}/../utils/configs/1910

#Configuration File for keepalived

global_defs {
      router_id IPVS-TEST-102
      lvs_timeouts tcp 240 tcpfin 60 udp 300
      notification_email {
      asvintsov@example.com
                      }
      notification_email_from ipvs-test-102@example.com
      smtp_server mail.uma.tech
      smtp_connect_timeout 30
      smtp_alert_checker off
            }

track_file TF_1 {
	file /tmp/track_file_1.trk
}

###############################################################################################

virtual_server 10.9.200.64 80        {
virtualhost "NTVPLUSTV VOD (10.9.200.64) port 80"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        persistence_timeout 86400
        protocol TCP

     quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.64/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.64/32 dev lo"

#rec-301.
real_server 10.10.45.3 80 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#rec-1.
real_server 10.1.45.3 80 {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                      }

##############################################################################################

virtual_server 10.9.200.7 80       {
virtualhost "RUTUBE-FH (10.9.200.7) port 80"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

#srvl-dl-prod-fh-back-1.
real_server 10.1.61.37 80 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Ping-Pong 10.1.61.37"
                    }
                           }

#srvl-dl-prod-fh-back-2.
real_server 10.1.61.66 80 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Ping-Pong 10.1.61.66"
                    }
                           }

#srv3-dl-prod-fh-back-2
real_server 10.1.61.64 80 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Ping-Pong 10.1.61.64"
                    }
                           }

#vml-m9-prod-fh-back-1.
real_server 10.10.108.78 80 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Ping-Pong 10.10.108.78"
                     }
                          }

#vml-m9-prod-fh-back-2. 
real_server 10.10.108.79 80 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Ping-Pong 10.10.108.79"
                     }
                          }

#vml-m9-prod-fh-back-3.
real_server 10.10.108.80 80 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Ping-Pong 10.10.108.80"
                     }
                          }	
                                      }
  
###########################################################################################

virtual_server 10.9.200.7 443       {
virtualhost "RUTUBE-FH (10.9.200.7) port 443"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.7/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.7/32 dev lo"

#srvl-dl-prod-fh-back-1.
real_server 10.1.61.37 443 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Ping-Pong 10.1.61.37"
                    }
                            }

#srvl-dl-prod-fh-back-2.
real_server 10.1.61.66 443 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Ping-Pong 10.1.61.66"
                    }
                            }

#srvl-dl-prod-fh-back-3.
real_server 10.1.61.64 443 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Ping-Pong 10.1.61.64"
                    }
                            }

#vml-m9-prod-fh-back-1.
real_server 10.10.108.78 443 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Ping-Pong 10.10.108.78"
                     }
                          }

#vml-m9-prod-fh-back-2.
real_server 10.10.108.79 443 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Ping-Pong 10.10.108.79"
                     }
                           }

#vml-m9-prod-fh-back-3.
real_server 10.10.108.80 443 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Ping-Pong 10.10.108.80"
                     }
                           }
                                    }
                                 
###########################################################################################

virtual_server 10.9.200.46 3306      {
virtualhost "GPM-DB-SITE-MASTER (10.9.200.46) port 3306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.46/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.46/32 dev lo"

#site-db.
real_server 10.1.99.4 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.99.4"
                    }
                            }

#site-db.
real_server 10.2.99.4 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.2.99.4"
                    }
                            }
                                   }

###############################################################################################

virtual_server 10.9.200.29 3306   {
virtualhost "ZABBIX-DB-MASTER (10.9.200.29) port 3306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.29/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.29/32 dev lo"

#zabbix-db-2.dl.
real_server 10.1.36.10 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.36.10"
                    }
                             }

#zabbix-db-1.m77.
real_server 10.2.75.2 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.2.75.2"
                    }
                            }
                                  }

###############################################################################################

virtual_server 10.9.200.30 3306  {
virtualhost "ZABBIX-DB-REPLICA (10.9.200.30) port 3306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.30/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.30/32 dev lo"

#zabbix-db-2.dl.
real_server 10.1.36.10 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.1.36.20"
                   }
                             }

#zabbix-db-1.m77.
real_server 10.2.75.2 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.2.75.3"
                    }
                            }
                                     }

###############################################################################################

virtual_server 10.9.200.71 5433      {
virtualhost "RUTUBE-ANALYZER-DB-VERTICA (10.9.200.71) port 5433"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched sh
        lvs_method TUN
        smtp_alert on
        persistence_timeout 3600
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.71/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.71/32 dev lo"

#analyzer-db-vertica-302.m9.
real_server 10.10.119.22 5433  {
       weight 1
	FILE_CHECK {
		track_file TF_1
	}
                            }

#analyzer-db-vertica-301.m9.                                                                                            
real_server 10.10.119.21 5433  {
       weight 1
	FILE_CHECK {
		track_file TF_1
	}
                           }

#analyzer-db-vertica-303.m9.
real_server 10.10.119.23 5433  {
       weight 1
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                     }

##############################################################################################

virtual_server 10.9.200.62 80       {
virtualhost "RUTUBE-MOGURA (10.9.200.62) port 80"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched sh
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

    quorum 1   

        quorum_up "/sbin/ip -4 addr add 10.9.200.62/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.62/32 dev lo"

#mog-1.dl.
real_server 10.1.18.2 80 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#mog-2.m9.
real_server 10.10.18.2 80 {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                     }

##############################################################################################

virtual_server 10.9.200.15 8080   {
virtualhost "RUFORM-PIRISCOPE (10.9.200.15) port 8080"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.15/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.15/32 dev lo"

#periscope.m9.
real_server 10.10.108.22 8080 {
        weight 1
	FILE_CHECK {
		track_file TF_1
	}
                            }

#periscope.fiord.
real_server 10.19.2.22 8080 {
        weight 1
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                   }

###########################################################################################

virtual_server 10.9.200.15 80   {
virtualhost "RUFORM-PIRISCOPE (10.9.200.15) port 80"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

#periscope.m9.
real_server 10.10.108.22 80 {
        weight 1
	FILE_CHECK {
		track_file TF_1
	}
                            }

#periscope.fiord.
real_server 10.19.2.22 80 {
        weight 1
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                   }

###########################################################################################

virtual_server 10.9.200.8 80      {
virtualhost "RUTUBE-WEBDAV (10.9.200.8) port 80"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.8/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.8/32 dev lo"

#fh-storage-101.dl. 
real_server 10.1.64.2 80 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#fh-storage-302.m9. 
real_server 10.10.18.5 80 {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                   }

###########################################################################################

virtual_server 10.9.200.1 53      {
virtualhost "DNS (10.9.200.1) UDP port 53"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched sh
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol UDP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.1/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.1/32 dev lo"

#pdns-101.
real_server 91.207.59.196 53 {
        DNS_CHECK {            
                type A 
                name zxz.su 
                } 
                               }

#pdns-201.
real_server 193.232.148.72 53 {
        DNS_CHECK {            
                type A 
                name zxz.su 
                } 
                               }

#pdns-301.
real_server 91.207.58.162 53 {
        DNS_CHECK {            
                type A 
                name zxz.su 
                } 
                               }
                                   }

###########################################################################################

virtual_server 10.9.200.1 53         {
virtualhost "DNS (10.9.200.1) TCP port 53"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched sh
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

#pdns-101.
real_server 91.207.59.196 53 {
        DNS_CHECK {            
                type A 
                name zxz.su 
                } 
                               }

#pdns-201.
real_server 193.232.148.72 53 {
        DNS_CHECK {            
                type A 
                name zxz.su 
                } 
                               }

#pdns-301.
real_server 91.207.58.162 53 {
        DNS_CHECK {            
                type A 
                name zxz.su 
                } 
                               }
                                      }

###########################################################################################

virtual_server 10.9.200.41 80      {
virtualhost "NTVPLUSTV-FRONTEND-PR (10.9.200.41) port 80"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
         protocol TCP

#front.dl.
real_server 10.1.73.6 80  {
        weight 1
	FILE_CHECK {
		track_file TF_1
	}
                           }

#front.m77.
real_server 10.2.59.6 80  {
        weight 1
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                      }

###########################################################################################

virtual_server 10.9.200.41 443      {
virtualhost "NTVPLUSTV-FRONTEND-PR (10.9.200.41) port 443"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        persistence_timeout 3600
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.41/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.41/32 dev lo"

#front.dl.
real_server 10.1.73.6 443  {
        weight 1
	FILE_CHECK {
		track_file TF_1
	}
                            }

#front.m77.
real_server 10.2.59.6 443  {
        weight 1
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                    }

###########################################################################################

virtual_server 10.9.200.73 80      {
virtualhost "GPM-FRONT-TEST-SITE (10.9.200.73) port 80"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.73/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.73/32 dev lo"

#site-front.
real_server 10.1.99.2 80  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#site-front.
real_server 10.2.99.2 80  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

###########################################################################################

virtual_server 10.9.200.26 6379     {
virtualhost "UMA-SQR-REDIS-CACHEOPS-MASTER (10.9.200.26) port 6379"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 10
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.26/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.26/32 dev lo"

#rpl-db-101-redis-cacheops.
real_server 10.1.140.10 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.140.15"
                  }
                           }

#rpl-db-301-redis-cacheops.
real_server 10.10.140.10 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.140.15"
                  }
                           }
                                    }

###########################################################################################

virtual_server 10.9.200.74 9306    {
virtualhost "GPM-SPHINX (10.9.200.74) port 9306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.74/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.74/32 dev lo"

#site-sphinx.
real_server 10.1.99.5 9306 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#site-sphinx.
real_server 10.2.99.55 9306 {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                    }

###############################################################################################

virtual_server 10.9.200.43 53     {
virtualhost "NTVPLUSTV-CONSUL (10.9.200.43) UDP port 53"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol UDP

#ntvplustv-docker-101.
real_server 10.1.47.7 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-102.
real_server 10.1.47.6 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-103.
real_server 10.1.47.8 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-104.
real_server 10.1.47.9 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-105.
real_server 10.1.47.4 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-106.
real_server 10.1.47.2 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-107.
real_server 10.1.47.5 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-108.
real_server 10.1.47.10 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-301.
real_server 10.10.47.6 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-302.
real_server 10.10.47.7 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-303.
real_server 10.10.47.8 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-304.
real_server 10.10.47.5 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-305.
real_server 10.10.47.4 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-306.
real_server 10.10.47.2 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-307.
real_server 10.10.47.3 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-308.
real_server 10.10.47.9 53 {                                                                                                                                                                               
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

###############################################################################################

virtual_server 10.9.200.43 53     {
virtualhost "NTVPLUSTV-CONSUL (10.9.200.43) TCP port 53"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

#ntvplustv-docker-101.
real_server 10.1.47.7 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-102.
real_server 10.1.47.6 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-103.
real_server 10.1.47.8 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-104.
real_server 10.1.47.9 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-105.
real_server 10.1.47.4 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-106.
real_server 10.1.47.2 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-107.
real_server 10.1.47.5 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-108.
real_server 10.1.47.10 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-301.
real_server 10.10.47.6 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-302.
real_server 10.10.47.7 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-303.
real_server 10.10.47.8 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-304.
real_server 10.10.47.5 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-305.
real_server 10.10.47.4 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-306.
real_server 10.10.47.2 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-307.
real_server 10.10.47.3 53 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-308.
real_server 10.10.47.9 53 {                                                                                                                                                                               
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

###############################################################################################

virtual_server 10.9.200.43 10514     {
virtualhost "NTVPLUSTV-CONSUL (10.9.200.43) UDP port 10514"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol UDP

#ntvplustv-docker-101.
real_server 10.1.47.7 10514 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-102.
real_server 10.1.47.6 10514 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-103.
real_server 10.1.47.8 10514 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-104.
real_server 10.1.47.9 10514 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-105.
real_server 10.1.47.4 10514 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-106.
real_server 10.1.47.2 10514 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-107.
real_server 10.1.47.5 10514 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-108.
real_server 10.1.47.10 10514 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-301.
real_server 10.10.47.6 10514 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-302.
real_server 10.10.47.7 10514 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-303.
real_server 10.10.47.8 10514 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-304.
real_server 10.10.47.5 10514 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-305.
real_server 10.10.47.4 10514 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-306.
real_server 10.10.47.2 10514 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-307.
real_server 10.10.47.3 10514 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-308.
real_server 10.10.47.9 10514 {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

###############################################################################################

virtual_server 10.9.200.43 8500     {
virtualhost "NTVPLUSTV-CONSUL (10.9.200.43) port 8500"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

#ntvplustv-docker-101.
real_server 10.1.47.7 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-102.
real_server 10.1.47.6 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-103.
real_server 10.1.47.8 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-104.
real_server 10.1.47.9 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-105.
real_server 10.1.47.4 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-106.
real_server 10.1.47.2 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-107.
real_server 10.1.47.5 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-108.
real_server 10.1.47.10 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-301.
real_server 10.10.47.6 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-302.
real_server 10.10.47.7 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-303.
real_server 10.10.47.8 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-304.
real_server 10.10.47.5 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-305.
real_server 10.10.47.4 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-306.
real_server 10.10.47.2 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-307.
real_server 10.10.47.3 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-308.
real_server 10.10.47.9 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

###############################################################################################

virtual_server 10.9.200.43 25000     {
virtualhost "NTVPLUSTV-CONSUL (10.9.200.43) port 25000"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        persistence_timeout 3600
        protocol TCP

#ntvplustv-docker-101.
real_server 10.1.47.7 25000 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-102.
real_server 10.1.47.6 25000 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-103.
real_server 10.1.47.8 25000 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-104.
real_server 10.1.47.9 25000 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-105.
real_server 10.1.47.4 25000 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-106.
real_server 10.1.47.2 25000 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-107.
real_server 10.1.47.5 25000 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-108.
real_server 10.1.47.10 25000 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-301.
real_server 10.10.47.6 25000 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-302.
real_server 10.10.47.7 25000 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-303.
real_server 10.10.47.8 25000 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-304.
real_server 10.10.47.5 25000 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-305.
real_server 10.10.47.4 25000 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-306.
real_server 10.10.47.2 25000 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-307.
real_server 10.10.47.3 25000 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-308.
real_server 10.10.47.9 25000 {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

###############################################################################################

virtual_server 10.9.200.43 4646     {
virtualhost "NTVPLUSTV-CONSULAPI (10.9.200.43) port 4646"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

        quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.43/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.43/32 dev lo"

#ntvplustv-docker-101.
real_server 10.1.47.7 4646 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-102.
real_server 10.1.47.6 4646 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-103.
real_server 10.1.47.8 4646 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-104.
real_server 10.1.47.9 4646 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-105.
real_server 10.1.47.4 4646 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-106.
real_server 10.1.47.2 4646 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-107.
real_server 10.1.47.5 4646 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-108.
real_server 10.1.47.10 4646 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-301.
real_server 10.10.47.6 4646 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-302.
real_server 10.10.47.7 4646 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-303.
real_server 10.10.47.8 4646 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-304.
real_server 10.10.47.5 4646 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-305.
real_server 10.10.47.4 4646 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-306.
real_server 10.10.47.2 4646 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-307.
real_server 10.10.47.3 4646 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-308.
real_server 10.10.47.9 4646 {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

###############################################################################################

virtual_server 10.9.200.89 3306                          {
virtualhost "SB-PERCONA-A (10.9.200.89) port 3306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 10
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.89/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.89/32 dev lo"


real_server 10.1.111.30 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.111.31"
                  }
                            }


real_server 10.10.111.30 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.111.31"
                  }
                             }
                                                             }

#################################################################################################

virtual_server 10.9.200.90 3306                             {
virtualhost "SB-PERCONA-B (10.9.200.90) port 3306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 10
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.90/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.90/32 dev lo"


real_server 10.1.111.30 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.111.32"
                  }
                            }


real_server 10.10.111.30 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.111.32"
                  }
                             }
                                                                }

#################################################################################################

virtual_server 10.9.200.90 3307                             {
virtualhost "SB-PERCONA-B (10.9.200.90) port 3307"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 10
        delay_before_retry 3
        protocol TCP


real_server 10.1.111.30 3307 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.1.111.32"
                  }
                            }


real_server 10.10.111.30 3307 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.10.111.32"
                  }
                             }
                                                                }

#################################################################################################

virtual_server 10.9.200.91 3306                             {
virtualhost "SB-PERCONA-C (10.9.200.91) port 3306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 10
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.91/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.91/32 dev lo"


real_server 10.1.111.40 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.111.43"
                  }
                            }


real_server 10.10.111.40 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.111.43"
                  }
                             }
                                                               }

#################################################################################################

virtual_server 10.9.200.91 3307                             {
virtualhost "SB-PERCONA-C (10.9.200.91) port 3307"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 10
        delay_before_retry 3
        protocol TCP


real_server 10.1.111.40 3307 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.1.111.43"
                  }
                            }


real_server 10.10.111.40 3307 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.10.111.43"
                  }
                             }
                                                               }

#################################################################################################

virtual_server 10.9.200.92 3306                                {
virtualhost "SB-PERCONA-D (10.9.200.92) port 3306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 10
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.92/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.92/32 dev lo"


real_server 10.1.111.40 3306 {
        MISC_CHECK {         
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.111.44"
                  }
                            }

   
real_server 10.10.111.40 3306 {
        MISC_CHECK {         
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.111.44"
                  }
                             }
                                             }

#################################################################################################

virtual_server 10.9.200.94 139                    {
virtualhost "SB-STATIC-SMB-STORAGE (10.9.200.94) port 139"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP


real_server 10.1.109.20 139 {
	FILE_CHECK {
		track_file TF_1
	}
                            }


real_server 10.10.109.21 139 {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                                        }

#################################################################################################

virtual_server 10.9.200.94 445                    {
virtualhost "SB-STATIC-SMB-STORAGE (10.9.200.94) port 445"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.94/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.94/32 dev lo"


real_server 10.1.109.20 445 {
	FILE_CHECK {
		track_file TF_1
	}
                            }


real_server 10.10.109.21 445 {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                                        }

#################################################################################################

virtual_server 10.9.200.97 3306      {
virtualhost "RPL-DB-MYSQL-MASTER (10.9.200.97) port 3306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 10
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.97/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.97/32 dev lo"

#rpl-db-101.
real_server 10.1.140.10 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.140.11"
                  }
                           }

#rpl-db-301.
real_server 10.10.140.10 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.140.11"
                  }
                           }
                                      }

###############################################################################################

virtual_server 10.9.200.98 3306      {
virtualhost "RPL-DB-MYSQL-REPLICA (10.9.200.98) port 3306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched wrr
        lvs_method TUN
        smtp_alert on
        retry 10
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.98/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.98/32 dev lo"

#rpl-db-101.
real_server 10.1.140.10 3306 {
        weight 10
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.1.140.11"
                  }
                           }
  
#rpl-db-301.
real_server 10.10.140.10 3306 {
        weight 10
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.10.140.11"
                  }
                           }

#rpl-db-302-mysql.
real_server 10.10.140.20 3306 {
        weight 10
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.10.140.26"
                  }
                           }

#uma-db-102-mysql-b.
real_server 10.1.140.40 3306 {
        weight 7
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.1.140.42"
                  }
                           }


#uma-db-202-mysql-b.
real_server 10.2.140.40 3306 {
        weight 7
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.2.140.42"
                  }
                           }


#uma-db-302-mysql-b.
real_server 10.10.140.40 3306 {
        weight 7
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.10.140.42"
                  }
                           }
                                      }

###############################################################################################

virtual_server 10.9.200.99 6379      {
virtualhost "RPL-DB-REDIS-MASTER (10.9.200.99) port 6379"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 10
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.99/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.99/32 dev lo"

#rpl-db-101.
real_server 10.1.140.10 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.140.12"
                  }
                           }

#rpl-db-301.
real_server 10.10.140.10 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.140.12"
                  }
                           }
                                      }

###############################################################################################

virtual_server 10.9.200.100 80       {
virtualhost "RPL-TEST (10.9.200.100) port 80"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

#t-rpl-app-101.
real_server 10.1.25.5 80  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#t-rpl-app-102.
real_server 10.1.25.6 80  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#t-rpl-app-201.m77.zxz.su
real_server 10.2.25.5 80  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#t-rpl-app-202.m77.zxz.su
real_server 10.2.25.6 80  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                       }

###########################################################################################

virtual_server 10.9.200.100 443       {
virtualhost "RPL-TEST (10.9.200.100) port 443"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        persistence_timeout 3600
        protocol TCP

    quorum 1

            quorum_up "/sbin/ip -4 addr add 10.9.200.100/32 dev lo"
            quorum_down "/sbin/ip -4 addr del 10.9.200.100/32 dev lo"

#t-rpl-app-101.
real_server 10.1.25.5 443  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#t-rpl-app-102.
real_server 10.1.25.6 443  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#t-rpl-app-201.m77.zxz.su
real_server 10.2.25.5 443  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#t-rpl-app-202.m77.zxz.su
real_server 10.2.25.6 443  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                        }

###########################################################################################

virtual_server 10.9.200.36 5672      {
virtualhost "MC-RABBITMQ (10.9.200.36) port 5672"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.36/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.36/32 dev lo"

#match-club-db-301. 
real_server 10.10.37.2 5672 {
        weight 1
	FILE_CHECK {
		track_file TF_1
	}
                            }

#match-club-db-302. 
real_server 10.1.37.2 5672 {
        weight 1
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                     }

###############################################################################################

virtual_server 10.9.200.37 6379      {
virtualhost "MC-REDIS-MASTER (10.9.200.37) port 6379"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.37/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.37/32 dev lo"

#match-club-db-301. 
real_server 10.10.37.2 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Redis-master 10.10.37.2 6379"
             misc_timeout 3
                    }
                            }

#match-club-db-302. 
real_server 10.1.37.2 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Redis-master 10.1.37.2 6379"
             misc_timeout 3
                    }
                            }
                                     }

###############################################################################################        

virtual_server 10.9.200.38 3306      {
virtualhost "MC-MYSQL-MASTER (10.9.200.38) port 3306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.38/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.38/32 dev lo"

#match-club-db-301. 
real_server 10.10.37.2 3306 {
        weight 1
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-MYSQLADM 10.10.37.2"
                    }
                            }

#match-club-db-302. 
real_server 10.1.37.2 3306 {
        weight 1
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-MYSQLADM 10.1.37.2"
                    }
                            }
                                     }

###############################################################################################

virtual_server 10.9.200.39 27017      {
virtualhost "MC-MONGODB-MASTER (10.9.200.39) port 27017"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.39/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.39/32 dev lo"

#match-club-db-301. 
real_server 10.10.37.2 27017 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-MongoDB-master 10.10.37.2 27020"
             misc_timeout 3
                    }
                            }

#match-club-db-302. 
real_server 10.1.37.2 27017 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-MongoDB-master 10.1.37.2 27020"
             misc_timeout 3
                    }
                                     }
                                        }

###############################################################################################

virtual_server 10.9.200.40 27017      {
virtualhost "MC-MONGODB-REPLICA (10.9.200.40) port 27017"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.40/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.40/32 dev lo"

#match-club-db-301. 
real_server 10.10.37.2 27017 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-MongoDB-slave 10.10.37.2 27020"
             misc_timeout 3
                    }
                            }

#match-club-db-302. 
real_server 10.1.37.2 27017 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-MongoDB-slave 10.1.37.2 27020"
             misc_timeout 3
                    }
                                     }
                                        }

###############################################################################################

virtual_server 10.9.200.55 3306      {
virtualhost "UMA-DUCK-MASTER (10.9.200.55) port 3306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.55/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.55/32 dev lo"

#db-101.
real_server 10.1.142.10 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.142.11"
                  }
                           }

#db-301.
real_server 10.10.142.10 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.142.11"
                  }
                           }
                                      }

###############################################################################################

virtual_server 10.9.200.56 6379      {
virtualhost "UMA-DUCK-REDIS (10.9.200.56) port 6379"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.56/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.56/32 dev lo"

#db-101.
real_server 10.1.142.10 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.142.12"
                  }
                           }

#db-301.
real_server 10.10.142.10 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.142.12"
                  }
                           }
                                      }

###############################################################################################

virtual_server 10.9.200.75 80       {
virtualhost "UMA-COMMON-NGINX (10.9.200.75) port 80"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

#uma-common-101.
real_server 10.1.142.20 80 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#uma-common-102.
real_server 10.1.142.21 80 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#uma-common-301.
real_server 10.10.142.2 80 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#uma-common-302.
real_server 10.10.142.3 80 {
	FILE_CHECK {
		track_file TF_1
	}
                              }
                                     }

###############################################################################################

virtual_server 10.9.200.75 443       {
virtualhost "UMA-COMMON-NGINX (10.9.200.75) port 443"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.75/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.75/32 dev lo"

#uma-common-101.
real_server 10.1.142.20 443 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#uma-common-102.
real_server 10.1.142.21 443 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#uma-common-301.
real_server 10.10.142.2 443 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#uma-common-302.
real_server 10.10.142.3 443 {
	FILE_CHECK {
		track_file TF_1
	}
                              }
                                     }

###############################################################################################

virtual_server 10.9.200.95 3306                             {
virtualhost "SB-PERCONA-F (10.9.200.95) port 3306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 10
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.95/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.95/32 dev lo"


real_server 10.1.111.40 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.111.45"
                  }
                            }


real_server 10.10.111.40 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.111.45"
                  }
                             }
                                                                }

#################################################################################################

virtual_server 10.9.200.95 3307                             {
virtualhost "SB-PERCONA-F (10.9.200.95) port 3307"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 10
        delay_before_retry 3
        protocol TCP


real_server 10.1.111.40 3307 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.1.111.45"
                  }
                            }


real_server 10.10.111.40 3307 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.10.111.45"
                  }
                             }
                                                                }

#################################################################################################

virtual_server 10.9.200.42 8514                             {
virtualhost "MATCHTV-RELAY (10.9.200.42) port 8514"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr           
        lvs_method TUN        
        smtp_alert on
        protocol UDP

    quorum 1                 

        quorum_up "/sbin/ip -4 addr add 10.9.200.42/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.42/32 dev lo"

#log-matchtv-301-relayd-2.
real_server 10.10.28.2 8514 {
        weight 1
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                                                }

###########################################################################################

virtual_server 10.9.200.70 80      {
virtualhost "MATCHP-ADMIN (10.9.200.70) port 80"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

#matchp-app-101.
real_server 10.1.131.2 80  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#matchp-app-301.
real_server 10.10.131.2 80  {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-ACTIVE-BACKUP 80 10.1.131.2 10.10.131.2"
                    }
                            }
                                        }

###########################################################################################

virtual_server 10.9.200.70 443      {
virtualhost "MATCHP-ADMIN (10.9.200.70) port 443"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        persistence_timeout 3600
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.70/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.70/32 dev lo"

#matchp-app-101.
real_server 10.1.131.2 443  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#matchp-app-301.
real_server 10.10.131.2 443  {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-ACTIVE-BACKUP 443 10.1.131.2 10.10.131.2"
                    }
                            }
                                        }

###########################################################################################

virtual_server 10.9.200.32 3306     {
virtualhost "UMA-VB-DB-MYSQL-MASTER (10.9.200.32) port 3306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.32/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.32/32 dev lo"

#uma-vb-db-101.
real_server 10.1.143.100 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.143.101"
                    }
                             }

#uma-vb-db-301.
real_server 10.10.143.100 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.143.101"
                    }
                             }
                                      }

###############################################################################################

virtual_server 10.9.200.32 3307     {
virtualhost "UMA-VB-DB-MYSQL-REPLICA (10.9.200.32) port 3307"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

#uma-vb-db-101.
real_server 10.1.143.100 3307 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.1.143.101"
                    }
                             }

#uma-vb-db-301.
real_server 10.10.143.100 3307 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.10.143.101"
                    }
                             }
                                      }

###############################################################################################

virtual_server 10.9.200.47 6379     {
virtualhost "UMA-VB-DB-REDIS-MASTER (10.9.200.47) port 6379"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.47/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.47/32 dev lo"

#uma-vb-db-101.
real_server 10.1.143.100 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.143.102"
                    }
                             }

#uma-vb-db-301.
real_server 10.10.143.100 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.143.102"
                    }
                             }
                                      }

###############################################################################################

virtual_server 10.9.200.72 5672        {
virtualhost "RUTUBE-QUE (10.9.200.72) port 5672"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
#        persistence_timeout 3600
        protocol TCP

     quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.72/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.72/32 dev lo"

#que-103.dl.
real_server 10.1.64.4 5672 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#que-202.m77.
real_server 10.2.64.3 5672 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#que-301.m9.
real_server 10.10.64.2 5672 {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                      }

##############################################################################################

virtual_server 10.9.200.50 3306     {
virtualhost "UMA-FH-MYSQL-MASTER (10.9.200.50) port 3306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

#db-101.
real_server 10.1.142.10 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.142.15"
                    }
                             }

#db-301.
real_server 10.10.142.10 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.142.15"
                    }
                             }
                                      }

###############################################################################################

virtual_server 10.9.200.50 3307     {
virtualhost "UMA-FH-MYSQL-REPLICA (10.9.200.50) port 3307"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.50/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.50/32 dev lo"


#db-101.
real_server 10.1.142.10 3307 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.1.142.15"
                    }
                             }

#db-301.
real_server 10.10.142.10 3307 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.10.142.15"
                    }
                             }
                                      }

###############################################################################################

virtual_server 10.9.200.76 6379    {
virtualhost "MATCHTV-REDIS (10.9.200.76) port 6379"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr 
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.76/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.76/32 dev lo"

#matchtv-redis-302.
real_server 10.10.110.10 6379 {
        MISC_CHECK {
            misc_path "$SCRIPT_DIR/HC-Redis-master 10.10.110.10 6379"
            misc_timeout 3
                   }
                           }

#matchtv-redis-101.
real_server 10.1.110.10 6379 {
        MISC_CHECK {
            misc_path "$SCRIPT_DIR/HC-Redis-master 10.1.110.10 6379"
            misc_timeout 3
                   }
                           }
                                    }

###############################################################################################

virtual_server 10.9.200.81 8003       {
virtualhost "UMA-FH-API (10.9.200.81) port 8003"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.81/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.81/32 dev lo"

#uma-encoder-101.
real_server 10.1.142.50 8003 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-encoder-102.
real_server 10.1.142.51 8003 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-encoder-103.
real_server 10.1.142.52 8003 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-encoder-104.
real_server 10.1.142.53 8003 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-encoder-105.
real_server 10.1.142.54 8003 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-common-101.
real_server 10.1.142.20 8003 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-common-102.
real_server 10.1.142.21 8003 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-encoder-301.
real_server 10.10.142.50 8003 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-encoder-302.
real_server 10.10.142.51 8003 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-encoder-303.
real_server 10.10.142.52 8003 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-encoder-304.
real_server 10.10.142.53 8003 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-encoder-305.
real_server 10.10.142.54 8003 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-common-301.
real_server 10.10.142.2 8003 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-common-302.
real_server 10.10.142.3 8003 {
	FILE_CHECK {
		track_file TF_1
	}
                          }
                                     }

###############################################################################################

virtual_server 10.9.200.54 4873       {
virtualhost "VERBACCIO-PKG-FRONT-REPO (10.9.200.54) port 4873"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.54/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.54/32 dev lo"

#verdaccio-201.
real_server 10.2.36.2 4873 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-ACTIVE-BACKUP 4873 10.10.36.2 10.2.36.2"               
                    }
                           }

#verdaccio-301.
real_server 10.10.36.2 4873 {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                          }

################################################################################################

virtual_server 10.9.200.84 80                     {
virtualhost "MC-CF-STORAGE (10.9.200.84) port 80"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

#mc-static-201.
real_server 10.2.37.15 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#mc-static-301.
real_server 10.10.37.15 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                                        }

################################################################################################

virtual_server 10.9.200.84 8080                     {
virtualhost "MC-CF-STORAGE (10.9.200.84) port 8080"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

        quorum 1
        quorum_up "/sbin/ip -4 addr add 10.9.200.84/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.84/32 dev lo"

#mc-static-201.
real_server 10.2.37.15 8080 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#mc-static-301.
real_server 10.10.37.15 8080 {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                                        }

#################################################################################################

virtual_server 10.9.200.101 8200                     {
virtualhost "VAULT (10.9.200.101) port 8200"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

        quorum 1
        quorum_up "/sbin/ip -4 addr add 10.9.200.101/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.101/32 dev lo"
                
#vault-101.
real_server 10.9.5.117 8200 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-VAULT 10.9.5.117"
                    }
                            }

#vault-202.
real_server 10.9.5.118 8200 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-VAULT 10.9.5.118"
                    }
                            }

#vault-303.
real_server 10.9.5.115 8200 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-VAULT 10.9.5.115"
                    }
                            }
                                                        }

#################################################################################################

virtual_server 10.9.200.10 5432        {
virtualhost "DB-ELECARD-MASTER (10.9.200.10) port 5432"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.10/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.10/32 dev lo"

#boro-db-101.
real_server 10.9.5.226 5432 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-PSQL-MASTER 10.9.5.226"
                  }
                            }

#boro-db-301.
real_server 10.9.5.227 5432 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-PSQL-MASTER 10.9.5.227"
                  }
                             }
                                           }

#################################################################################################

virtual_server 10.9.200.11 80     {
virtualhost "SB-API (10.9.200.11) port 80"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

#be-api-151.sb. 
real_server 10.1.110.91 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#be-api-152.sb.
real_server 10.1.110.92 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#be-api-351.sb. 
real_server 10.10.110.91 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#be-api-352.sb.
real_server 10.10.110.92 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

###############################################################################################

virtual_server 10.9.200.11 443     {
virtualhost "SB-API (10.9.200.11) port 443"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.11/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.11/32 dev lo"

#be-api-151.sb. 
real_server 10.1.110.91 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#be-api-152.sb.
real_server 10.1.110.92 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#be-api-351.sb. 
real_server 10.10.110.91 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#be-api-352.sb.
real_server 10.10.110.92 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

###############################################################################################

virtual_server 10.9.200.52 80      {
virtualhost "UMA-BLITZ (10.9.200.52) port 80"
        delay_loop 10
        alpha 1      
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3          
        protocol TCP

#uma-blitz-101.
real_server 10.1.143.37 80 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#uma-blitz-201.
real_server 10.2.143.37 80 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#uma-blitz-301.
real_server 10.10.143.37 80 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#uma-blitz-302.
real_server 10.10.143.38 80 {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                      }

##############################################################################################

virtual_server 10.9.200.52 443   {
virtualhost "UMA-BLITZ-LAN (10.9.200.52) port 443"
        delay_loop 10
        alpha 1      
        omega 1
        lvs_sched lc 
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3          
        protocol TCP

    quorum 1       

       quorum_up "/sbin/ip -4 addr add 10.9.200.52/32 dev lo"  
       quorum_down "/sbin/ip -4 addr del 10.9.200.52/32 dev lo"

#uma-blitz-101.
real_server 10.1.143.37 443 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#uma-blitz-201.
real_server 10.2.143.37 443 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#uma-blitz-301.
real_server 10.10.143.37 443 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#uma-blitz-302.
real_server 10.10.143.38 443 {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                     }

##############################################################################################

virtual_server 10.9.200.58 6379      {
virtualhost "UMA-BLITZ-REDIS (10.9.200.58) port 6379"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 5
        delay_before_retry 2
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.58/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.58/32 dev lo"

#rpl-db-101.
real_server 10.1.140.10 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.140.14"
                  }
                           }

#rpl-db-301.
real_server 10.10.140.10 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.140.14"
                  }
                           }
                                      }

###############################################################################################

virtual_server 10.9.200.104 6379      {
virtualhost "PASS-REDIS-MASTER (10.9.200.104) port 6379"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 5
        delay_before_retry 2
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.104/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.104/32 dev lo"

#pass-db-201.
real_server 10.2.24.30 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.2.24.32"
                  }
                           }

#pass-db-301.
real_server 10.10.24.30 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.24.32"
                  }
                           }

#pass-cloud-ng-db-101-redis.
real_server 10.0.65.30 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.0.65.32"
                  }
                           }
                                      }

###############################################################################################

virtual_server 10.9.200.105 5432      {
virtualhost "PASS-PGSQL-MASTER (10.9.200.105) port 5432"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 5
        delay_before_retry 2
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.105/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.105/32 dev lo"

#pass-db-201.
real_server 10.2.24.30 5432 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.2.24.31"
                  }
                           }

#pass-db-301.
real_server 10.10.24.30 5432 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.24.31"
                  }
                           }

#pass-cloud-ng-db-101-pgsql.
real_server 10.0.65.30 5432 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.0.65.31"
                  }
                           }
                                      }

###############################################################################################

virtual_server 10.9.200.106 5140        {
virtualhost "UMA-FLUENTD (10.9.200.106) TCP port 5140"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.106/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.106/32 dev lo"

#uma-fluentd-101.
real_server 10.1.36.26 5140  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#uma-fluentd-301.
real_server 10.10.36.26 5140  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

##############################################################################################

virtual_server 10.9.200.106 5140        {
virtualhost "UMA-FLUENTD (10.9.200.106) UDP port 5140"
        delay_loop 10
        alpha 1
        omega 1
        ops
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol UDP

#uma-fluentd-101.
real_server 10.1.36.26 5140  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#uma-fluentd-301.
real_server 10.10.36.26 5140  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

##############################################################################################

virtual_server 10.9.200.109 80       {
virtualhost "UMA-CEPH-GATEWAY (10.9.200.109) port 80"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.109/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.109/32 dev lo"

#ceph-gateway-101.
real_server 10.1.115.151 80 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#ceph-gateway-201.
real_server 10.2.115.151 80 {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                     }

###############################################################################################

virtual_server 10.9.200.110 80     {
virtualhost "SB-STATS (10.9.200.110) port 80"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

        quorum 1
        quorum_up "/sbin/ip -4 addr add 10.9.200.110/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.110/32 dev lo"

#sb-stats-151.
real_server 10.1.110.100 80 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#sb-stats-351.
real_server 10.10.110.100 80 {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                     }

###############################################################################################

virtual_server 10.9.200.111 6379    {
virtualhost "SB-STATS-REDIS (10.9.200.111) port 6379"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

        quorum 1
        quorum_up "/sbin/ip -4 addr add 10.9.200.111/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.111/32 dev lo"

#sb-stats-redis-151.
real_server 10.1.110.102 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Redis-master 10.1.110.102 6379"
             misc_timeout 3
                    }
                          }

#sb-stats-redis-351.
real_server 10.10.110.102 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Redis-master 10.10.110.102 6379"
             misc_timeout 3
                    }
                           }
                                     }

###############################################################################################

virtual_server 10.9.200.112 9090        {
virtualhost "UMA-BLITZ-PROMETHEUS (10.9.200.112) port 9090"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        persistence_timeout 86400
        protocol TCP

     quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.112/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.112/32 dev lo"

#uma-blitz-thanos-101.
real_server 10.1.36.28 9090 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#uma-blitz-thanos-301.
real_server 10.10.36.28 9090 {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                      }

###########################################################################################

#PREM-V-REDIS-MASTER-6379
virtual_server 10.9.200.115 6379      {
virtualhost "PREM-REDIS-MASTER (10.9.200.115) port 6379"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.115/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.115/32 dev lo"

#prem-redis-101. 
real_server 10.1.38.2 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Redis-master 10.1.38.2 6379"
             misc_timeout 3
                    }
                            }

#prem-redis-301. 
real_server 10.10.38.2 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Redis-master 10.10.38.2 6379"
             misc_timeout 3
                    }
                            }
                                     }

###############################################################################################

virtual_server 10.9.200.116 80      {
virtualhost "PREM-ADMIN (10.9.200.116) port 80"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

#prem-adm-101.
real_server 10.1.38.17 80  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#prem-adm-301.
real_server 10.10.38.17 80  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                        }

###########################################################################################

virtual_server 10.9.200.116 443      {
virtualhost "PREM-ADMIN (10.9.200.116) port 443"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        persistence_timeout 3600
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.116/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.116/32 dev lo"

#prem-adm-101.
real_server 10.1.38.17 443  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#prem-adm-301.
real_server 10.10.38.17 443  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                        }

###########################################################################################

virtual_server 10.9.200.117 8080       {
virtualhost "NTVPLUSTV-PREPROD (10.9.200.117) port 8080"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.117/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.117/32 dev lo"

#docker-preprod-103.
real_server 10.1.73.9 8080 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#docker-preprod-204.m77.ntvplus.tv
real_server 10.2.59.28 8080 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#docker-preprod-205.m77.ntvplus.tv
real_server 10.2.59.29 8080 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#docker-preprod-301.
real_server 10.10.65.10 8080 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#docker-preprod-302.
real_server 10.10.65.11 8080 {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                     }

###############################################################################################

virtual_server 10.9.200.118 3100    {
virtualhost "PREM-LOKI (10.9.200.118) port 3100"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.118/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.118/32 dev lo"

#prem-loki-101.
real_server 10.1.38.19 3100 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#prem-loki-301.
real_server 10.10.38.19 3100 {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                    }

###############################################################################################

virtual_server 10.9.200.119 5140        {
virtualhost "PREM-FLUENTD (10.9.200.119) port 5140"
        delay_loop 10
        alpha 1
        omega 1
        ops
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol UDP

#prem-fluentd-101.
real_server 10.1.38.18 5140  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#prem-fluentd-301.
real_server 10.10.38.18 5140  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

##############################################################################################

virtual_server 10.9.200.119 24224        {
virtualhost "PREM-FLUENTD (10.9.200.119) port 24224"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.119/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.119/32 dev lo"

#prem-fluentd-101.
real_server 10.1.38.18 24224  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#prem-fluentd-301.
real_server 10.10.38.18 24224  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

##############################################################################################

virtual_server 10.9.200.121 9090       {
virtualhost "PREM-THANOS (10.9.200.121) port 9090"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched sh
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.121/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.121/32 dev lo"

#prem-thanos-101.
real_server 10.1.38.20 9090 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#prem-thanos-301.
real_server 10.10.38.20 9090 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-ACTIVE-BACKUP 9090 10.1.38.20 10.10.38.20"
                    }
                           }
                                     }

###############################################################################################

virtual_server 10.9.200.122 6379    {
virtualhost "UMA-SQR-REDIS-CACHEOPS-REPLICA-2 (10.9.200.122) port 6379"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 10
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.122/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.122/32 dev lo"

#rpl-db-101-redis-cacheops-replica-21.
real_server 10.1.140.21 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-slave 10.1.140.21"
                    }
                           }

#db-101-redis-cacheops-replica-22.
real_server 10.1.140.22 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-slave 10.1.140.22"
                    }
                           }

#db-101-redis-cacheops-replica-23.
real_server 10.1.140.23 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-slave 10.1.140.23"
                    }
                           }

#rpl-db-301-redis-cacheops-replica-21.
real_server 10.10.140.21 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-slave 10.10.140.21"
                    }
                           }

#db-301-redis-cacheops-replica-22.
real_server 10.10.140.22 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-slave 10.10.140.22"
                    }
                           }

#rpl-db-301-redis-cacheops-replica-23.
real_server 10.10.140.23 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-slave 10.10.140.23"
                    }
                           }
                                    }

###############################################################################################

virtual_server 10.9.200.123 3306      {
virtualhost "PREM-MYSQL-MASTER (10.9.200.123) port 3306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 10
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.123/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.123/32 dev lo"

#prem-db-101-mysql.
real_server  10.1.38.30 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master  10.1.38.31"
                  }
                           }

#prem-db-301-mysql.
real_server 10.10.38.30 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master  10.10.38.31"
                  }
                           }
                                      }

###############################################################################################

virtual_server 10.9.200.124 9090       {
virtualhost "SB-THANOS (10.9.200.124) port 9090"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched sh
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.124/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.124/32 dev lo"

#sb-thanos-101.
real_server 10.1.110.103 9090 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#sb-thanos-301.
real_server 10.10.110.103 9090 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-ACTIVE-BACKUP 9090 10.1.110.103 10.10.110.103"
                    }
                           }
                                     }

###############################################################################################

virtual_server 10.9.200.53 9000       {
virtualhost "SB-MINIO (10.9.200.53) 9000"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched sh
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.53/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.53/32 dev lo"

#sb-minio-101.
real_server 10.1.110.104 9000 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#sb-minio-301.
real_server 10.10.110.104 9000 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-ACTIVE-BACKUP 9000 10.1.110.104 10.10.110.104"
                    }
                           }
                                     }

###############################################################################################

virtual_server 10.9.200.93 80       {
virtualhost "K8S-DEV-01-CL-BS (10.9.200.93) port 80"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched sh
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

#k8s-dev-01-node-401.
real_server 192.168.168.15 80 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#k8s-dev-01-node-402.
real_server 192.168.168.16 80 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#k8s-dev-01-node-403.
real_server 192.168.168.17 80 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#k8s-dev-01-node-404.
real_server 192.168.168.18 80 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#k8s-dev-01-node-405.
real_server 192.168.168.19 80 {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                     }

###############################################################################################

virtual_server 10.9.200.93 443       {
virtualhost "K8S-DEV-01-CL-BS (10.9.200.93) port 443"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched sh
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.93/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.93/32 dev lo"

#k8s-dev-01-node-401.
real_server 192.168.168.15 443 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#k8s-dev-01-node-402.
real_server 192.168.168.16 443 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#k8s-dev-01-node-403.
real_server 192.168.168.17 443 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#k8s-dev-01-node-404.
real_server 192.168.168.18 443 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#k8s-dev-01-node-405.
real_server 192.168.168.19 443 {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                     }

###############################################################################################

virtual_server 10.9.200.21 80     {
virtualhost "GEOIP (10.9.200.21) port 80"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.21/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.21/32 dev lo"

#geoip-101. 
real_server 10.1.25.25 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#geoip-301. 
real_server 10.10.25.25 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

###############################################################################################

virtual_server 10.9.200.113 3100    {
virtualhost "PREM-LOKI-ENCODERS (10.9.200.113) port 3100"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.113/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.113/32 dev lo"

#uma-loki-102.
real_server 10.1.36.29 3100 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#uma-loki-302.
real_server 10.10.36.29 3100 {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                    }

###############################################################################################

virtual_server 10.9.200.27 24224        {
virtualhost "MERCH-FLUENTD-24224 (10.9.200.27) TCP port 24224"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.27/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.27/32 dev lo"

#merch-fluentd-101.
real_server 10.1.120.4 24224  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#merch-fluentd-301.
real_server 10.10.120.4 24224  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

##############################################################################################

virtual_server 10.9.200.27 5140        {
virtualhost "MERCH-FLUENTD-5140 (10.9.200.27) UDP port 5140"
        delay_loop 10
        alpha 1
        omega 1
        ops
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol UDP

#merch-fluentd-101.
real_server 10.1.120.4 5140  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#merch-fluentd-101.
real_server 10.10.120.4 5140  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

##############################################################################################

virtual_server 10.9.200.28 3100    {
virtualhost "MERCH-LOKI (10.9.200.28) port 3100"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.28/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.28/32 dev lo"

#merch-loki-101.
real_server 10.1.120.5 3100 {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#merch-loki-301.
real_server 10.10.120.5 3100 {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                    }

###############################################################################################

virtual_server 10.9.200.86 3306     {
virtualhost "MERCH-MYSQL (10.9.200.86) port 3306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        retry 10
        delay_before_retry 3
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.86/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.86/32 dev lo"

#merch-db-101-mysql.
real_server 10.1.120.10 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.120.11"
                    }
                             }

#merch-db-301-mysql.
real_server 10.10.120.10 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.120.11"
                  }
                             }
                                    }

###############################################################################################

virtual_server 10.9.200.87 6379     {
virtualhost "MERCH-REDIS (10.9.200.87) port 6379"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 10
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.87/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.87/32 dev lo"

#merch-db-101-redis.
real_server 10.1.120.10 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.120.13"
                  }
                           }

#merch-db-301-redis.
real_server 10.10.120.10 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.120.13"
                  }
                           }
                                    }

###############################################################################################

virtual_server 10.9.200.125 9000       {
virtualhost "UMA-SQUIRREL-MINIO (10.9.200.125) port 9000"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched sh
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.125/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.125/32 dev lo"

#uma-squirrel-minio-101.
real_server 10.1.36.37 9000 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-squirrel-minio-301.
real_server 10.10.36.37 9000 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-ACTIVE-BACKUP 9000 10.1.36.37 10.10.36.37"
                    }
                           }
                                     }

###############################################################################################	

virtual_server 10.9.200.125 10901       {
virtualhost "UMA-SQUIRREL-MINIO (10.9.200.125) port 10901"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched sh
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

#uma-squirrel-minio-101.
real_server 10.1.36.37 10901 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-squirrel-minio-301.
real_server 10.10.36.37 10901 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-ACTIVE-BACKUP 10901 10.1.36.37 10.10.36.37"
                    }
                           }
                                     }

###############################################################################################

virtual_server 10.9.200.126 9090       {
virtualhost "UMA-SQUIRREL-THANOS (10.9.200.126) port 9090"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched sh
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.126/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.126/32 dev lo"

#uma-squirrel-thanos-101.
real_server 10.1.36.38 9090 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-squirrel-thanos-301.
real_server 10.10.36.38 9090 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-ACTIVE-BACKUP 9090 10.1.36.38 10.10.36.38"
                    }
                           }
                                     }

###############################################################################################

virtual_server 10.9.200.3 5443      {
virtualhost "NTVPLUSTV-WEBDAV (10.9.200.3) port 5443"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.3/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.3/32 dev lo"


#ams-host-102.
real_server 10.1.137.2 5443  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ams-host-302.
real_server 10.10.137.2 5443  {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-ACTIVE-BACKUP 5443 10.1.137.2 10.10.137.2"
                    }
                            }
                                        }

###########################################################################################

virtual_server 10.9.200.2 80      {
virtualhost "UMA-STAGING (10.9.200.2) port 80"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

#t-uma-vb-101.
real_server 10.1.25.10 80  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#t-uma-vb-201.
real_server 10.2.25.10 80  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#t-uma-vb-301.
real_server 10.10.25.5 80  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                    }

###########################################################################################

virtual_server 10.9.200.2 443      {
virtualhost "UMA-STAGING (10.9.200.2) port 443"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.2/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.2/32 dev lo"

#t-uma-vb-101.
real_server 10.1.25.10 443  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#t-uma-vb-201.
real_server 10.2.25.10 443  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#t-uma-vb-301.
real_server 10.10.25.5 443  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                     }

############################################################################################

virtual_server 10.9.200.25 80       {
virtualhost "UMA-SQ-TEST (10.9.200.25) port 80"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

#t-uma-sq-101.
real_server 10.1.25.11 80  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#t-uma-sq-201.
real_server 10.2.25.11 80  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#t-uma-sq-301.
real_server 10.10.25.7 80  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                       }

###########################################################################################

virtual_server 10.9.200.25 443       {
virtualhost "UMA-SQ-TEST (10.9.200.25) port 443"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        persistence_timeout 3600
        protocol TCP

    quorum 1

            quorum_up "/sbin/ip -4 addr add 10.9.200.25/32 dev lo"
            quorum_down "/sbin/ip -4 addr del 10.9.200.25/32 dev lo"

#t-uma-sq-101.
real_server 10.1.25.11 443  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#t-uma-sq-201.
real_server 10.2.25.11 443  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#t-uma-sq-301.
real_server 10.10.25.7 443  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                        }

###########################################################################################

virtual_server 10.9.200.88 80      {
virtualhost "UMA-VB-PREPROD (10.9.200.88) port 80"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

#t-uma-govb-101.
real_server 10.1.25.15 80  {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#t-uma-govb-201.
real_server 10.2.25.15 80  {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#t-uma-govb-301.
real_server 10.10.25.15 80  {
	FILE_CHECK {
		track_file TF_1
	}
                          }
                                      }

###########################################################################################

virtual_server 10.9.200.88 443         {
virtualhost "UMA-VB-PREPROD (10.9.200.88) port 443"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        persistence_timeout 3600
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.88/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.88/32 dev lo"

#t-uma-govb-101.
real_server 10.1.25.15 443  {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#t-uma-govb-201.
real_server 10.2.25.15 443  {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#t-uma-govb-301.
real_server 10.10.25.15 443  {
	FILE_CHECK {
		track_file TF_1
	}
                          }
                                     }

###########################################################################################

virtual_server 10.9.200.48 80     {
virtualhost "SB-STATS-PREPROD (10.9.200.48) port 80"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

        quorum 1
        quorum_up "/sbin/ip -4 addr add 10.9.200.48/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.48/32 dev lo"

#sb-stats-preprod-101.
real_server 10.1.36.44 80 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#sb-stats-preprod-301.
real_server 10.10.36.44 80 {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                     }

###############################################################################################

virtual_server 10.9.200.49 6379    {
virtualhost "SB-STATS-PREPROD-REDIS (10.9.200.49) port 6379"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

        quorum 1
        quorum_up "/sbin/ip -4 addr add 10.9.200.49/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.49/32 dev lo"

#sb-stats-preprod-redis-101.
real_server 10.1.36.46 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Redis-master 10.1.36.46 6379"
             misc_timeout 3
                    }
                          }

#sb-stats-preprod-redis-301.
real_server 10.10.36.46 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-Redis-master 10.10.36.46 6379"
             misc_timeout 3
                    }
                           }
                                     }

###############################################################################################

virtual_server 10.9.200.107 3306      {
virtualhost "UMA-SQR-STAGE-PXC-MASTER (10.9.200.107) port 3306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 10
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.107/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.107/32 dev lo"

#data-export-uma-te-pxc-201.
real_server 10.2.36.61 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.2.36.61"
                  }
                           }

#data-export-uma-te-pxc-201.
real_server 10.2.36.62 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.2.36.62"
                  }
                           }

#data-export-uma-te-pxc-203.
real_server 10.2.36.63 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.2.36.63"
                  }
                           }
                                      }

###############################################################################################

virtual_server 10.9.200.108 3306      {
virtualhost "UMA-SQR-STAGE-PXC-REPLICA (10.9.200.108) port 3306"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 10
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.108/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.108/32 dev lo"

#data-export-uma-te-pxc-201.
real_server 10.2.36.61 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.2.36.61"
                  }
                           }

#data-export-uma-te-pxc-201.
real_server 10.2.36.62 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.2.36.62"
                  }
                           }

#data-export-uma-te-pxc-203.
real_server 10.2.36.63 3306 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-replica 10.2.36.63"
                  }
                           }
                                      }

###############################################################################################

virtual_server 10.9.200.127 5432     {
virtualhost "PRODUCTION-SPEEDTEST-DB (10.9.200.127) port 5432"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        retry 3
        delay_before_retry 5
        smtp_alert on
        protocol TCP

        quorum 1
        quorum_up "/sbin/ip -4 addr add 10.9.200.127/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.127/32 dev lo"

#speeddb.zxz.su
real_server 10.9.5.244 5432 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.9.5.244"
                    }
                             }

#speeddb-02.zxz.su
real_server 10.9.5.245 5432 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.9.5.245"
                  }
                             }
                                    }

###############################################################################################

virtual_server 10.9.200.35 9000       {
virtualhost "PREM-MINIO (10.9.200.35) port 9000"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched sh
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.35/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.35/32 dev lo"

#prem-minio-101.
real_server 10.1.38.40 9000 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#prem-minio-301.
real_server 10.10.38.40 9000 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-ACTIVE-BACKUP 9000 10.1.38.40 10.10.38.40"
                    }
                           }
                                     }

###############################################################################################

virtual_server 10.9.200.12 9000       {
virtualhost "UMA-PREPROD-MINIO (10.9.200.12) port 9000"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched sh
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.12/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.12/32 dev lo"

#uma-preprod-minio-101.
real_server 10.1.36.48 9000 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-preprod-minio-301.
real_server 10.10.36.48 9000 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-ACTIVE-BACKUP 9000 10.1.36.48 10.10.36.48"
                    }
                           }
                                     }

###############################################################################################

virtual_server 10.9.200.12 10901       {
virtualhost "UMA-PREPROD-MINIO (10.9.200.12) port 10901"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched sh
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

#uma-preprod-minio-101.
real_server 10.1.36.48 10901 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-preprod-minio-301.
real_server 10.10.36.48 10901 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-ACTIVE-BACKUP 10901 10.1.36.48 10.10.36.48"
                    }
                           }
                                     }

###############################################################################################

virtual_server 10.9.200.13 9090       {
virtualhost "UMA-PREPROD-THANOS (10.9.200.13) port 9090"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched sh
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.13/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.13/32 dev lo"

#uma-preprod-thanos-101.
real_server 10.1.36.49 9090 {
	FILE_CHECK {
		track_file TF_1
	}
                          }

#uma-preprod-thanos-301.
real_server 10.10.36.49 9090 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-ACTIVE-BACKUP 9090 10.1.36.49 10.10.36.49"
                    }
                           }
                                     }

###############################################################################################

virtual_server 10.9.200.45 80       {
virtualhost "UGC-K8S-APP (10.9.200.45) port 80"
        delay_loop 20
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

#ugc-k8s-dev-01-node-301.
real_server 10.10.89.21 80 {
        HTTP_GET {
             url    {
             path /healthz
             status_code 200
                     }
                  connect_timeout 3
                  retry 3
                  delay_before_retry 2
                  }
                         }

#ugc-k8s-dev-01-node-302.
real_server 10.10.89.22 80 {
        HTTP_GET {
             url    {
             path /healthz
             status_code 200
                     }
                  connect_timeout 3
                  retry 3
                  delay_before_retry 2
                  }
                          }

#ugc-k8s-dev-01-node-303.
real_server 10.10.89.23 80 {
        HTTP_GET {
             url    {
             path /healthz
             status_code 200
                     }
                  connect_timeout 3
                  retry 3
                  delay_before_retry 2
                  }
                          }

#ugc-k8s-dev-01-node-304.
real_server 10.10.89.24 80 {
        HTTP_GET {
             url    {
             path /healthz
             status_code 200
                     }
                  connect_timeout 3
                  retry 3
                  delay_before_retry 2
                  }
                          }
                                      }

###########################################################################################

virtual_server 10.9.200.45 443       {
virtualhost "UGC-K8S-APP (10.9.200.45) port 443"
        delay_loop 20
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.45/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.45/32 dev lo"

#ugc-k8s-dev-01-node-301.
real_server 10.10.89.21 443 {
        SSL_GET {
             url    {
             path /healthz
             status_code 200
                     }
                  connect_timeout 3
                  retry 3
                  delay_before_retry 2
                  }
                         }

#ugc-k8s-dev-01-node-302.
real_server 10.10.89.22 443 {
        SSL_GET {
             url    {
             path /healthz
             status_code 200
                     }
                  connect_timeout 3
                  retry 3
                  delay_before_retry 2
                  }
                          }

#ugc-k8s-dev-01-node-303.
real_server 10.10.89.23 443 {
        SSL_GET {
             url    {
             path /healthz
             status_code 200
                     }
                  connect_timeout 3
                  retry 3
                  delay_before_retry 2
                  }
                          }

#ugc-k8s-dev-01-node-304.
real_server 10.10.89.24 443 {
        SSL_GET {
             url    {
             path /healthz
             status_code 200
                     }
                  connect_timeout 3
                  retry 3
                  delay_before_retry 2
                  }
                          }
                                      }

###########################################################################################

virtual_server 10.9.200.31 80     {
virtualhost "NTVPLUSTV-NOMAD (10.9.200.31) port 80"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

#ntvplustv-docker-101.
real_server 10.1.47.7 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-102.
real_server 10.1.47.6 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-103.
real_server 10.1.47.8 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-104.
real_server 10.1.47.9 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-105.
real_server 10.1.47.4 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-106.
real_server 10.1.47.2 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-107.
real_server 10.1.47.5 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-108.
real_server 10.1.47.10 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-301.
real_server 10.10.47.6 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-302.
real_server 10.10.47.7 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-303.
real_server 10.10.47.8 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-304.
real_server 10.10.47.5 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-305.
real_server 10.10.47.4 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-306.
real_server 10.10.47.2 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-307.
real_server 10.10.47.3 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-308.
real_server 10.10.47.9 80 {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

###############################################################################################

virtual_server 10.9.200.31 443     {
virtualhost "NTVPLUSTV-NOMAD (10.9.200.31) port 443"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        persistence_timeout 3600
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.31/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.31/32 dev lo"

#ntvplustv-docker-101.
real_server 10.1.47.7 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-102.
real_server 10.1.47.6 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-103.
real_server 10.1.47.8 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-104.
real_server 10.1.47.9 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-105.
real_server 10.1.47.4 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-106.
real_server 10.1.47.2 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-107.
real_server 10.1.47.5 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-108.
real_server 10.1.47.10 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-301.
real_server 10.10.47.6 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-302.
real_server 10.10.47.7 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-303.
real_server 10.10.47.8 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-304.
real_server 10.10.47.5 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-305.
real_server 10.10.47.4 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-306.
real_server 10.10.47.2 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-307.
real_server 10.10.47.3 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#ntvplustv-docker-308.
real_server 10.10.47.9 443 {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

###############################################################################################

virtual_server 10.9.200.59 0      {
virtualhost "SB-STATIC (10.9.200.59) port 0"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        persistence_timeout 3600
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.59/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.59/32 dev lo"


real_server 10.1.109.20 0  {
	FILE_CHECK {
		track_file TF_1
	}
                           }


real_server 10.10.109.21 0  {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                       }
 

###########################################################################################

virtual_server 10.9.200.60 80       {
virtualhost "UMA-PERISCOPE (10.9.200.60) port 80"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.60/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.60/32 dev lo"


#periscope-101.
real_server 91.207.59.206 80 {
        HTTP_GET {
             url    {
             path /health
             status_code 200
                     }
                  connect_timeout 3
                  retry 3
                  delay_before_retry 2
                  }
                                }

#periscope-301.
real_server 91.207.58.167 80 {
        HTTP_GET {
             url    {
             path /health
             status_code 200
                     }
                  connect_timeout 3
                  retry 3
                  delay_before_retry 2
                  } 
                               }   
                                        }

############################################################################################

virtual_server 10.9.200.65 6379      {
virtualhost "UMA-BLITZ-REDIS-A (10.9.200.65) port 6379"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 5
        delay_before_retry 2
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.65/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.65/32 dev lo"

#uma-blitz-db-101-redis-a.
real_server 10.1.140.50 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.140.51"
                    }
                            }

#uma-blitz-db-301-redis-a.
real_server 10.10.140.50 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.140.51"
                    }
                            }
                                   }

###############################################################################################

virtual_server 10.9.200.66 6379      {
virtualhost "UMA-BLITZ-REDIS-B (10.9.200.66) port 6379"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 5
        delay_before_retry 2
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.66/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.66/32 dev lo"

#uma-blitz-db-101-redis-b.
real_server 10.1.140.50 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.140.52"
                    }
                            }

#uma-blitz-db-301-redis-b.
real_server 10.10.140.50 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.140.52"
                    }
                            }
                                   }

###############################################################################################

virtual_server 10.9.200.67 6379      {
virtualhost "UMA-BLITZ-REDIS-C (10.9.200.67) port 6379"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 5
        delay_before_retry 2
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.67/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.67/32 dev lo"

#uma-blitz-db-101-redis-c.
real_server 10.1.140.50 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.140.53"
                    }
                            }

#uma-blitz-db-301-redis-c.
real_server 10.10.140.50 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.140.53"
                    }
                            }
                                   }

###############################################################################################

virtual_server 10.9.200.68 5432      {
virtualhost "UMA-BLITZ-PGSQL (10.9.200.68) port 5432"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 5
        delay_before_retry 2
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.68/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.68/32 dev lo"

#uma-blitz-db-101-pgsql.
real_server 10.1.140.50 5432 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.140.54"
                    }
                            }

#uma-blitz-db-301-pgsql.
real_server 10.10.140.50 5432 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.140.54"
                    }
                            }
                                   }

###############################################################################################

virtual_server 10.9.200.61 5432      {
virtualhost "PREM-CATALOG-PGSQL (10.9.200.61) port 5432"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 5
        delay_before_retry 2
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.61/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.61/32 dev lo"

#prem-db-101-pgsql.
real_server 10.1.38.30 5432 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.1.38.32"
                    }
                            }

#prem-db-301-pgsql.
real_server 10.10.38.30 5432 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-DB-master 10.10.38.32"
                    }
                            }
                                   }

###############################################################################################

virtual_server 10.9.200.20 8123      {
virtualhost "TREX-DEV-CLICKHOUSE (10.9.200.20) port 8123"
        delay_loop 2
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        protocol TCP

   quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.20/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.20/32 dev lo"

#trex-dev-front-101.
real_server 10.1.10.2 8123  {
        HTTP_GET {
             url    {
             path /
             status_code 200
                     }
                  connect_timeout 3
                  retry 3
                  delay_before_retry 2
                  }
                            }

#trex-dev-front-201.
real_server 10.2.10.2 8123  {
        HTTP_GET {
             url    {
             path /
             status_code 200
                     }
                  connect_timeout 3
                  retry 3
                  delay_before_retry 2
                 }
                            }

#trex-dev-front-301.
real_server 10.10.10.2 8123  {
        HTTP_GET {
             url    {
             path /
             status_code 200
                     }
                  connect_timeout 3
                  retry 3
                  delay_before_retry 2
                 }
                            }
                                        }

###########################################################################################

virtual_server 10.9.200.20 9000      {
virtualhost "TREX-DEV-CLICKHOUSE (10.9.200.20) port 9000"
        delay_loop 2
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        protocol TCP

#trex-dev-front-101.
real_server 10.1.10.2 9000  {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#trex-dev-front-201.
real_server 10.2.10.2 9000  {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#trex-dev-front-301.
real_server 10.10.10.2 9000  {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                        }

###########################################################################################

virtual_server 10.9.200.44 80      {
virtualhost "UGC-IAMGOOD-FRONT-PREPROD (10.9.200.44) port 80"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

#iamgood-preprod-301.
real_server 10.10.91.7 80  {
        weight 1
	FILE_CHECK {
		track_file TF_1
	}
                           }

#iamgood-preprod-301.
real_server 10.10.91.8 80  {
        weight 1
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                      }

###########################################################################################

virtual_server 10.9.200.44 443      {
virtualhost "UGC-IAMGOOD-FRONT-PREPROD (10.9.200.44) port 443"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        persistence_timeout 3600
        protocol TCP

        quorum 1

            quorum_up "/sbin/ip -4 addr add 10.9.200.44/32 dev lo"
            quorum_down "/sbin/ip -4 addr del 10.9.200.44/32 dev lo"

#iamgood-preprod-301.
real_server 10.10.91.7 443  {
        weight 1
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-preprod-302.
real_server 10.10.91.8 443  {
        weight 1
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                    }

###########################################################################################

virtual_server 10.9.200.51 8081      {
virtualhost "UGC-IAMGOOD-APPS-PREPROD (10.9.200.51) port 8081"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

        quorum 1

            quorum_up "/sbin/ip -4 addr add 10.9.200.51/32 dev lo"
            quorum_down "/sbin/ip -4 addr del 10.9.200.51/32 dev lo"

#iamgood-preprod-301.
real_server 10.10.91.7 8081  {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#iamgood-preprod-302.
real_server 10.10.91.8 8081  {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                      }

###########################################################################################

virtual_server 10.9.200.51 8082      {
virtualhost "UGC-IAMGOOD-APPS-PREPROD (10.9.200.51) port 8082"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP


#iamgood-preprod-301.
real_server 10.10.91.7 8082  {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#iamgood-preprod-302.
real_server 10.10.91.8 8082  {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                      }

###########################################################################################

virtual_server 10.9.200.51 8083      {
virtualhost "UGC-IAMGOOD-APPS-PREPROD (10.9.200.51) port 8083"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP


#iamgood-preprod-301.
real_server 10.10.91.7 8083  {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#iamgood-preprod-302.
real_server 10.10.91.8 8083  {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                      }

###########################################################################################

virtual_server 10.9.200.51 8084      {
virtualhost "UGC-IAMGOOD-APPS-PREPROD (10.9.200.51) port 8084"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP


#iamgood-preprod-301.
real_server 10.10.91.7 8084  {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#iamgood-preprod-302.
real_server 10.10.91.8 8084  {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                      }

###########################################################################################

virtual_server 10.9.200.51 8085      {
virtualhost "UGC-IAMGOOD-APPS-PREPROD (10.9.200.51) port 8085"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP


#iamgood-preprod-301.
real_server 10.10.91.7 8085  {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#iamgood-preprod-302.
real_server 10.10.91.8 8085  {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                      }

###########################################################################################

virtual_server 10.9.200.51 8086      {
virtualhost "UGC-IAMGOOD-APPS-PREPROD (10.9.200.51) port 8086"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP


#iamgood-preprod-301.
real_server 10.10.91.7 8086  {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#iamgood-preprod-302.
real_server 10.10.91.8 8086  {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                      }

###########################################################################################

virtual_server 10.9.200.51 8087      {
virtualhost "UGC-IAMGOOD-APPS-PREPROD (10.9.200.51) port 8087"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP


#iamgood-preprod-301.
real_server 10.10.91.7 8087  {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#iamgood-preprod-302.
real_server 10.10.91.8 8087  {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                      }

###########################################################################################

virtual_server 10.9.200.51 8688      {
virtualhost "UGC-IAMGOOD-APPS-PREPROD (10.9.200.51) port 8688"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP


#iamgood-preprod-301.
real_server 10.10.91.7 8688  {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#iamgood-preprod-302.
real_server 10.10.91.8 8688  {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                      }

###########################################################################################

virtual_server 10.9.200.102 6432      {
virtualhost "UGC-IAMGOOD-DB-PREPROD (10.9.200.102) port 6432"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.102/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.102/32 dev lo"

#iamgood-preprod-301.
real_server 10.10.91.7 6432 {
	FILE_CHECK {
		track_file TF_1
	}
                             }


#iamgood-preprod-302.
real_server 10.10.91.8 6432 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
                                   }

###############################################################################################

virtual_server 10.9.200.128 8081      {
virtualhost "UGC-IAMGOOD-APP (10.9.200.128) port 8081"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.128/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.128/32 dev lo"

#iamgood-101.
real_server 10.1.92.2 8081 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-102.
real_server 10.1.92.3 8081 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-301.
real_server 10.10.92.2 8081 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-302.
real_server 10.10.92.3 8081 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
                                   }

###############################################################################################

virtual_server 10.9.200.128 8082      {
virtualhost "UGC-IAMGOOD-APP (10.9.200.128) port 8082"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

#iamgood-101.
real_server 10.1.92.2 8082 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-102.
real_server 10.1.92.3 8082 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-301.
real_server 10.10.92.2 8082 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-302.
real_server 10.10.92.3 8082 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
                                   }

###############################################################################################

virtual_server 10.9.200.128 8083      {
virtualhost "UGC-IAMGOOD-APP (10.9.200.128) port 8083"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

#iamgood-101.
real_server 10.1.92.2 8083 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-102.
real_server 10.1.92.3 8083 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-301.
real_server 10.10.92.2 8083 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-302.
real_server 10.10.92.3 8083 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
                                   }

###############################################################################################

virtual_server 10.9.200.128 8084      {
virtualhost "UGC-IAMGOOD-APP (10.9.200.128) port 8084"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

#iamgood-101.
real_server 10.1.92.2 8084 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-102.
real_server 10.1.92.3 8084 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-301.
real_server 10.10.92.2 8084 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-302.
real_server 10.10.92.3 8084 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
                                   }

###############################################################################################

virtual_server 10.9.200.128 8085      {
virtualhost "UGC-IAMGOOD-APP (10.9.200.128) port 8085"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

#iamgood-101.
real_server 10.1.92.2 8085 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-102.
real_server 10.1.92.3 8085 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-301.
real_server 10.10.92.2 8085 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-302.
real_server 10.10.92.3 8085 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
                                   }

###############################################################################################

virtual_server 10.9.200.128 8086      {
virtualhost "UGC-IAMGOOD-APP (10.9.200.128) port 8086"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

#iamgood-101.
real_server 10.1.92.2 8086 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-102.
real_server 10.1.92.3 8086 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-301.
real_server 10.10.92.2 8086 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-302.
real_server 10.10.92.3 8086 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
                                   }

###############################################################################################

virtual_server 10.9.200.128 8087      {
virtualhost "UGC-IAMGOOD-APP (10.9.200.128) port 8087"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

#iamgood-101.
real_server 10.1.92.2 8087 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-102.
real_server 10.1.92.3 8087 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-301.
real_server 10.10.92.2 8087 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-302.
real_server 10.10.92.3 8087 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
                                   }

###############################################################################################

virtual_server 10.9.200.128 8688      {
virtualhost "UGC-IAMGOOD-APP (10.9.200.128) port 8688"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

#iamgood-101.
real_server 10.1.92.2 8688 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-102.
real_server 10.1.92.3 8688 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-301.
real_server 10.10.92.2 8688 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-302.
real_server 10.10.92.3 8688 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
                                   }

###############################################################################################

virtual_server 10.9.200.129 8123      {
virtualhost "UGC-IAMGOOD-CLICKHOUSE (10.9.200.129) port 8123"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.129/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.129/32 dev lo"

#iamgood-103.
real_server 10.1.92.4 8123 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-303.
real_server 10.10.92.4 8123 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
                                   }

###############################################################################################

virtual_server 10.9.200.130 26379      {
virtualhost "UGC-IAMGOOD-REDIS-SENTINEL (10.9.200.130) port 26379"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.130/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.130/32 dev lo"

#iamgood-101.
real_server 10.1.92.2 26379 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-102.
real_server 10.1.92.3 26379 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
 
#iamgood-103.
real_server 10.1.92.4 26379 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
 
#iamgood-301.
real_server 10.10.92.2 26379 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-302.
real_server 10.10.92.3 26379 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-303.
real_server 10.10.92.4 26379 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
                                   }

###############################################################################################

virtual_server 10.9.200.131 8500      {
virtualhost "UGC-IAMGOOD-CONSUL (10.9.200.131) port 8500"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.131/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.131/32 dev lo"

#iamgood-101.
real_server 10.1.92.2 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-102.
real_server 10.1.92.3 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
 
#iamgood-103.
real_server 10.1.92.4 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
 
#iamgood-301.
real_server 10.10.92.2 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-302.
real_server 10.10.92.3 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-303.
real_server 10.10.92.4 8500 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
                                   }

###############################################################################################

virtual_server 10.9.200.132 6432      {
virtualhost "UGC-IAMGOOD-DB (10.9.200.132) port 6432"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.132/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.132/32 dev lo"

#iamgood-101.
real_server 10.1.92.2 6432 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-102.
real_server 10.1.92.3 6432 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-301.
real_server 10.10.92.2 6432 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-302.
real_server 10.10.92.3 6432 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
                                   }

###############################################################################################

virtual_server 10.9.200.133 9333      {
virtualhost "UGC-IAMGOOD-WEED (10.9.200.133) port 9333"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.133/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.133/32 dev lo"

#iamgood-101.
real_server 10.1.92.2 9333 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-102.
real_server 10.1.92.3 9333 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-103.
real_server 10.1.92.4 9333 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-301.
real_server 10.10.92.2 9333 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-302.
real_server 10.10.92.3 9333 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
                                   }

###############################################################################################

virtual_server 10.9.200.24 8123      {
virtualhost "TREX-CLICKHOUSE (10.9.200.24) port 8123"
        delay_loop 2
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        protocol TCP

        quorum 1
        quorum_up "/sbin/ip -4 addr add 10.9.200.24/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.24/32 dev lo"

#trex-clickhouse-101.
real_server 10.1.10.5 8123  {
        HTTP_GET {
             url    {
             path /
             status_code 200
                     }
                  connect_timeout 3
                  retry 3
                  delay_before_retry 2
                  }
                            }

#trex-clickhouse-201.
real_server 10.2.10.5 8123  {
        HTTP_GET {
             url    {
             path /
             status_code 200
                     }
                  connect_timeout 3
                  retry 3
                  delay_before_retry 2
                  }
                            }

#trex-clickhouse-301.
real_server 10.10.10.5 8123  {
        HTTP_GET {
             url    {
             path /
             status_code 200
                     }
                  connect_timeout 3
                  retry 3
                  delay_before_retry 2
                 }
                            }
                                        }

###########################################################################################

virtual_server 10.9.200.24 9000      {
virtualhost "TREX-CLICKHOUSE (10.9.200.24) port 9000"
        delay_loop 2
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        protocol TCP

#trex-clickhouse-101.
real_server 10.1.10.5 9000  {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#trex-clickhouse-201.
real_server 10.2.10.5 9000  {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#trex-clickhouse-301.
real_server 10.10.10.5 9000  {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                        }

###########################################################################################

virtual_server 10.9.200.103 9000      {
virtualhost "UGC-IAMGOOD-ADMIN-APP-PROD (10.9.200.103) port 9000"
        delay_loop 2
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.103/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.103/32 dev lo"

#iamgood-101.
real_server 10.1.92.2 9000 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-102.
real_server 10.1.92.3 9000 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-301.
real_server 10.10.92.2 9000 {
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-302.
real_server 10.10.92.3 9000 {
	FILE_CHECK {
		track_file TF_1
	}
                             }
                                        }

###############################################################################################

virtual_server 10.9.200.120 80      {
virtualhost "UGC-IAMGOOD-ADMIN-FRONT-PROD (10.9.200.120) port 80"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

#iamgood-101.
real_server 10.1.92.2 80  {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#iamgood-102.
real_server 10.1.92.3 80  {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#iamgood-301.
real_server 10.10.92.2 80  {
	FILE_CHECK {
		track_file TF_1
	}
                           }

#iamgood-302.
real_server 10.10.92.3 80  {
	FILE_CHECK {
		track_file TF_1
	}
                           }
                                      }

###########################################################################################

virtual_server 10.9.200.120 443      {
virtualhost "UGC-IAMGOOD-ADMIN-FRONT-PROD (10.9.200.120) port 443"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        persistence_timeout 3600
        protocol TCP

    quorum 1

            quorum_up "/sbin/ip -4 addr add 10.9.200.120/32 dev lo"
            quorum_down "/sbin/ip -4 addr del 10.9.200.120/32 dev lo"

#iamgood-101.
real_server 10.1.92.2 443  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-102.
real_server 10.1.92.3 443  {      
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-301.
real_server 10.10.92.2 443 { 
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-302.
real_server 10.10.92.3 443  { 
	FILE_CHECK {
		track_file TF_1
	}
                             }
                                    }

###########################################################################################

virtual_server 10.9.200.6 3000      {
virtualhost "UGC-IAMGOOD-ARM (10.9.200.6) port 3000"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        persistence_timeout 3600
        protocol TCP

    quorum 1

            quorum_up "/sbin/ip -4 addr add 10.9.200.6/32 dev lo"
            quorum_down "/sbin/ip -4 addr del 10.9.200.6/32 dev lo"

#iamgood-101.
real_server 10.1.92.2 3000  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-102.
real_server 10.1.92.3 3000  {      
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-301.
real_server 10.10.92.2 3000 { 
	FILE_CHECK {
		track_file TF_1
	}
                             }

#iamgood-302.
real_server 10.10.92.3 3000  { 
	FILE_CHECK {
		track_file TF_1
	}
                             }
                                    }

########################################################################################### 

virtual_server 10.9.200.134 9000      {
virtualhost "UGC-IAMGOOD-ADMIN-APP-PREPROD (10.9.200.134) port 9000"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

        quorum 1
        quorum_up "/sbin/ip -4 addr add 10.9.200.134/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.134/32 dev lo"

#iamgood-preprod-301.
real_server 10.10.91.7 9000  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-preprod-302.
real_server 10.10.91.8 9000  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                    }

###########################################################################################

virtual_server 10.9.200.135 8500      {
virtualhost "UGC-IAMGOOD-CONSUL-PREPROD (10.9.200.135) port 8500"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

        quorum 1
        quorum_up "/sbin/ip -4 addr add 10.9.200.135/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.135/32 dev lo"

#iamgood-preprod-301.
real_server 10.10.91.7 8500  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-preprod-302.
real_server 10.10.91.8 8500  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-preprod-303.
real_server 10.10.91.10 8500  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-preprod-304.
real_server 10.10.91.11 8500  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                    }

###########################################################################################

virtual_server 10.9.200.136 80      {
virtualhost "UGC-IAMGOOD-ADMIN-FRONT-PREPROD (10.9.200.136) port 80"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

#iamgood-preprod-301.
real_server 10.10.91.7 80  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-preprod-302.
real_server 10.10.91.8 80  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                    }

###########################################################################################

virtual_server 10.9.200.136 443      {
virtualhost "UGC-IAMGOOD-ADMIN-FRONT-PREPROD (10.9.200.136) port 443"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

        quorum 1
        quorum_up "/sbin/ip -4 addr add 10.9.200.136/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.136/32 dev lo"

#iamgood-preprod-301.
real_server 10.10.91.7 443  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-preprod-302.
real_server 10.10.91.8 443  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                    }

###########################################################################################

virtual_server 10.9.200.137 9333      {
virtualhost "UGC-IAMGOOD-WEED-PREPROD (10.9.200.137) port 9333"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

        quorum 1
        quorum_up "/sbin/ip -4 addr add 10.9.200.137/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.137/32 dev lo"

#iamgood-preprod-301.
real_server 10.10.91.7 9333  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-preprod-302.
real_server 10.10.91.8 9333  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-preprod-303.
real_server 10.10.91.10 9333  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                    }

###########################################################################################

virtual_server 10.9.200.138 26379      {
virtualhost "UGC-IAMGOOD-REDIS-SENTINEL-PREPROD (10.9.200.138) port 26379"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

        quorum 1
        quorum_up "/sbin/ip -4 addr add 10.9.200.138/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.138/32 dev lo"

#iamgood-preprod-301.
real_server 10.10.91.7 26379  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-preprod-302.
real_server 10.10.91.8 26379  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-preprod-303.
real_server 10.10.91.10 26379  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-preprod-304.
real_server 10.10.91.11 26379  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                    }

###########################################################################################

virtual_server 10.9.200.22 24224        {
virtualhost "UGC-IAMGOOD-FLUENTD (10.9.200.22) port 24224"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.22/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.22/32 dev lo"

#iamgood-fluentd-101.
real_server 10.1.36.52 24224  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-fluentd-301.
real_server 10.10.36.56 24224  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

##############################################################################################

virtual_server 10.9.200.22 5140        {
virtualhost "UGC-IAMGOOD-FLUENTD (10.9.200.22) UDP port 5140"
        delay_loop 10
        alpha 1
        omega 1
        ops
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3 
        protocol UDP

#iamgood-fluentd-101.
real_server 10.1.36.52 5140  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-fluentd-301.
real_server 10.10.36.56 5140  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                         }

##############################################################################################

virtual_server 10.9.200.23 3100    {
virtualhost "UGC-IAMGOOD-LOKI (10.9.200.23) port 3100"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched lc
        lvs_method TUN
        smtp_alert on
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.23/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.23/32 dev lo"

#iamgood-fluentd-101.
real_server 10.1.36.53 3100  {
	FILE_CHECK {
		track_file TF_1
	}
                            }

#iamgood-fluentd-301.
real_server 10.10.36.58 3100  {
	FILE_CHECK {
		track_file TF_1
	}
                            }
                                    }

###############################################################################################

virtual_server 10.9.200.4 80       {
virtualhost "CONSUL-GATE (10.9.200.4) port 80"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

#mediaid-routes-consul-101.
real_server 10.1.110.180 80 {
        HTTP_GET {
             url    {
             path /
             status_code 401
                     }
                  }
                             }

#mediaid-routes-consul-201.
real_server 10.2.110.180 80 {
        HTTP_GET {
             url    {
             path /
             status_code 401
                     }
                  }
                             }

#mediaid-routes-consul-301.
real_server 10.10.110.180 80 {
        HTTP_GET {
             url    {
             path /
             status_code 401
                     }
                  }
                              }
                                    }

###############################################################################################

virtual_server 10.9.200.4 8500       {
virtualhost "CONSUL-GATE (10.9.200.4) port 8500"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

        quorum 1
        quorum_up "/sbin/ip -4 addr add 10.9.200.4/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.4/32 dev lo"

#mediaid-routes-consul-101.
real_server 10.1.110.180 8500 {
        HTTP_GET {
             url    {
             path /
             status_code 200
                     }
                  }
                               }

#mediaid-routes-consul-201.
real_server 10.2.110.180 8500 {
        HTTP_GET {
             url    {
             path /
             status_code 200
                     }
                  }
                               }

#mediaid-routes-consul-301.
real_server 10.10.110.180 8500 {
        HTTP_GET {
             url    {
             path /
             status_code 200
                     }
                  }
                                }
                                      }

###############################################################################################

virtual_server 10.9.200.14 6379    {
virtualhost "MATCHTV-REDIS-CACHE (10.9.200.14) port 6379"
        delay_loop 10
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.14/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.14/32 dev lo"

#sb-redis-cache-101.
real_server 10.1.110.9 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-REDIS-PING-PONG-A-B 6379 10.1.110.9 10.10.110.13"
                    }
                           }

#sb-redis-cache-301.
real_server 10.10.110.13 6379 {
        MISC_CHECK {
             misc_path "$SCRIPT_DIR/HC-REDIS-PING-PONG-A-B 6379 10.10.110.13 10.1.110.9"
                    }
                           }
                                    }

###############################################################################################


virtual_server 10.9.200.63 80  {
virtualhost "SB-STORAGE (10.9.200.63) port 80"
        delay_loop 5
        alpha 1
        omega 1
        lvs_sched rr
        lvs_method TUN
        smtp_alert on
        retry 3
        delay_before_retry 3
        protocol TCP

    quorum 1

        quorum_up "/sbin/ip -4 addr add 10.9.200.63/32 dev lo"
        quorum_down "/sbin/ip -4 addr del 10.9.200.63/32 dev lo"


#pb-151.sb.
real_server 10.1.109.52 80  {
        weight 1
        HTTP_GET {
             url    {
             path /
             status_code 200
                     }
                   connect_timeout 3
                   retry 3
                   delay_before_retry 2
                  }
                           }

#pb-152.sb.
real_server 10.1.109.53 80  {
        weight 1
        HTTP_GET {
             url    {
             path /
             status_code 200
                     }
                   connect_timeout 3
                   retry 3
                   delay_before_retry 2
                  }
                           }

#pb-351.sb.
real_server 10.10.109.52 80  {
        weight 1
        HTTP_GET {
             url    {
             path /
             status_code 200
                     }
                   connect_timeout 3
                   retry 3
                   delay_before_retry 2
                  }
                           }

#pb-352.sb.
real_server 10.10.109.53 80  {
        weight 1
        HTTP_GET {
             url    {
             path /
             status_code 200
                     }
                   connect_timeout 3
                   retry 3
                   delay_before_retry 2
                  }
                           }
                                   }

###########################################################################################


